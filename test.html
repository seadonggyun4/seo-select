<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>seo-select CDN Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 2rem;
        }

        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 2px solid #f0f0f0;
            border-radius: 8px;
            background: #fafafa;
        }

        .test-section h2 {
            color: #555;
            margin-top: 0;
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin: 1rem 0 0.5rem 0;
            font-weight: 600;
            color: #666;
        }

        .result {
            margin-top: 1rem;
            padding: 1rem;
            background: #e8f5e8;
            border-radius: 6px;
            border-left: 4px solid #4caf50;
        }

        .error {
            background: #fee;
            border-left-color: #f44336;
        }

        seo-select, seo-select-search {
            width: 100%;
            margin: 0.5rem 0;
        }

        .status {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 6px;
            font-weight: 600;
        }

        .status.loading {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 seo-select CDN Test</h1>

        <div id="loading-status" class="status loading">
            ⏳ Loading seo-select components from CDN...
        </div>

        <!-- Test 1: Basic Select -->
        <div class="test-section">
            <h2>🔹 Test 1: Basic Select</h2>
            <label for="country-select">Choose your country:</label>
            <seo-select name="country" id="country-select" theme="float">
                <option value="">Select a country</option>
                <option value="us">🇺🇸 United States</option>
                <option value="kr">🇰🇷 South Korea</option>
                <option value="jp">🇯🇵 Japan</option>
                <option value="cn">🇨🇳 China</option>
                <option value="uk">🇬🇧 United Kingdom</option>
                <option value="de">🇩🇪 Germany</option>
                <option value="fr">🇫🇷 France</option>
            </seo-select>
            <div id="basic-result" class="result" style="display: none;"></div>
        </div>

        <!-- Test 2: Search Select -->
        <div class="test-section">
            <h2>🔍 Test 2: Search-Enhanced Select</h2>
            <label for="city-select">Search for a city:</label>
            <seo-select-search name="city" id="city-select" theme="float" language="en" show-reset>
                <option value="">Type to search cities</option>
                <option value="seoul">🌃 Seoul, South Korea</option>
                <option value="tokyo">🗼 Tokyo, Japan</option>
                <option value="beijing">🏯 Beijing, China</option>
                <option value="shanghai">🌆 Shanghai, China</option>
                <option value="new-york">🏙️ New York, USA</option>
                <option value="london">🌉 London, UK</option>
                <option value="paris">🗼 Paris, France</option>
                <option value="berlin">🏛️ Berlin, Germany</option>
                <option value="sydney">🌅 Sydney, Australia</option>
                <option value="mumbai">🌃 Mumbai, India</option>
            </seo-select-search>
            <div id="search-result" class="result" style="display: none;"></div>
        </div>

        <!-- Test 3: Multiple Selection -->
        <div class="test-section">
            <h2>🏷️ Test 3: Multiple Selection</h2>
            <label for="skills-select">Select your skills:</label>
            <seo-select-search name="skills" id="skills-select" multiple theme="float" show-reset>
                <option value="js">💛 JavaScript</option>
                <option value="ts">💙 TypeScript</option>
                <option value="react">⚛️ React</option>
                <option value="vue">💚 Vue.js</option>
                <option value="angular">🔺 Angular</option>
                <option value="node">💚 Node.js</option>
                <option value="python">🐍 Python</option>
                <option value="java">☕ Java</option>
                <option value="css">🎨 CSS</option>
                <option value="html">📝 HTML</option>
            </seo-select-search>
            <div id="multiple-result" class="result" style="display: none;"></div>
        </div>

        <!-- Test 4: Dark Mode -->
        <div class="test-section">
            <h2>🌙 Test 4: Dark Mode</h2>
            <label for="theme-select">Dark theme select:</label>
            <seo-select-search name="theme" id="theme-select" dark theme="float" show-reset>
                <option value="">Choose a theme</option>
                <option value="light">☀️ Light Mode</option>
                <option value="dark">🌙 Dark Mode</option>
                <option value="auto">🔄 Auto (System)</option>
                <option value="sepia">📖 Sepia</option>
            </seo-select-search>
            <div id="dark-result" class="result" style="display: none;"></div>
        </div>
    </div>

    <!-- Load seo-select components from CDN -->
    <script type="module" src="https://cdn.jsdelivr.net/gh/seadonggyun4/seo-select@v2.0/dist/index.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/gh/seadonggyun4/seo-select@v2.0/dist/components/seo-select-search/index.js"></script>

    <script type="module">
        // Wait for components to be loaded
        function waitForComponents() {
            return new Promise((resolve) => {
                function check() {
                    if (customElements.get('seo-select') && customElements.get('seo-select-search')) {
                        resolve();
                    } else {
                        setTimeout(check, 100);
                    }
                }
                check();
            });
        }

        async function initializeTests() {
            try {
                await waitForComponents();
                
                // Update loading status
                const loadingEl = document.getElementById('loading-status');
                loadingEl.className = 'status success';
                loadingEl.innerHTML = '✅ seo-select components loaded successfully!';

                // Set up event listeners
                setupEventListeners();
                
            } catch (error) {
                const loadingEl = document.getElementById('loading-status');
                loadingEl.className = 'status error';
                loadingEl.innerHTML = `❌ Error loading components: ${error.message}`;
                console.error('Error:', error);
            }
        }

        function setupEventListeners() {
            // Basic Select
            const basicSelect = document.getElementById('country-select');
            const basicResult = document.getElementById('basic-result');
            
            basicSelect.addEventListener('onSelect', (event) => {
                basicResult.style.display = 'block';
                basicResult.innerHTML = `✅ <strong>Selected:</strong> ${event.label} (${event.value})`;
            });

            basicSelect.addEventListener('onReset', () => {
                basicResult.style.display = 'block';
                basicResult.innerHTML = '🔄 <strong>Reset:</strong> Selection cleared';
            });

            // Search Select
            const searchSelect = document.getElementById('city-select');
            const searchResult = document.getElementById('search-result');
            
            searchSelect.addEventListener('onSelect', (event) => {
                searchResult.style.display = 'block';
                searchResult.innerHTML = `✅ <strong>Selected:</strong> ${event.label} (${event.value})`;
            });

            searchSelect.addEventListener('onSearchChange', (event) => {
                if (event.detail) {
                    searchResult.style.display = 'block';
                    searchResult.innerHTML = `🔍 <strong>Searching:</strong> "${event.detail}"`;
                }
            });

            // Multiple Select
            const multipleSelect = document.getElementById('skills-select');
            const multipleResult = document.getElementById('multiple-result');
            
            multipleSelect.addEventListener('onSelect', (event) => {
                multipleResult.style.display = 'block';
                multipleResult.innerHTML = `➕ <strong>Added:</strong> ${event.label}`;
            });

            multipleSelect.addEventListener('onDeselect', (event) => {
                multipleResult.style.display = 'block';
                multipleResult.innerHTML = `➖ <strong>Removed:</strong> ${event.label}`;
            });

            multipleSelect.addEventListener('onChange', () => {
                const selectedValues = multipleSelect.selectedValues || [];
                multipleResult.style.display = 'block';
                multipleResult.innerHTML = `📊 <strong>Total Selected:</strong> ${selectedValues.length} skills`;
            });

            // Dark Mode Select
            const darkSelect = document.getElementById('theme-select');
            const darkResult = document.getElementById('dark-result');
            
            darkSelect.addEventListener('onSelect', (event) => {
                darkResult.style.display = 'block';
                darkResult.innerHTML = `🌙 <strong>Theme:</strong> ${event.label} selected`;
            });
        }

        // Error handling for CDN loading
        window.addEventListener('error', (event) => {
            if (event.target.tagName === 'SCRIPT') {
                const loadingEl = document.getElementById('loading-status');
                loadingEl.className = 'status error';
                loadingEl.innerHTML = '❌ Failed to load seo-select from CDN. Please check the network connection.';
            }
        });

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeTests);
        } else {
            initializeTests();
        }
    </script>
</body>
</html>